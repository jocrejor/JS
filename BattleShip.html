<!DOCTYPE html>
<html>
<title>BattleShip</title>
<head>
    <style>
        table, th, td {
          border: 0px solid black;
          border-collapse: collapse;
}    
th, td {
  padding: 10px;
}
</style>

<script>
// Definir les constants: 
const ACERTS =  10;
const AIGUES =  15;
const maxPartida= 3;
const minPartida= 0; 

var contAcerts;
var contAigua;
var partidaActiva;


//Definim la les partides
var partida = new Array();
partida[0]  = [ 
  ['','','','','','','','','',''],
  ['','','','','','','','','',''],
  ['','D','D','D','D','','','','',''],
  ['','','','','','','','D','',''],
  ['','','','','','','','D','',''],
  ['','','','','','','','D','',''],
  ['','D','D','','','','','','',''],
  ['','','','','','','','','',''],
  ['','','D','','','','','','',''],
  ['','','','','','','','','',''] ];

  partida[1]  = [ 
  ['','','','','','','','','','D'],
  ['','','','','','','','','','D'],
  ['','','','','','','','','','D'],
  ['','','','','','','','','','D'],
  ['','','','','','','D','','',''],
  ['','','','','','','','','',''],
  ['','','','','','','','','',''],
  ['','','D','','','','','D','D',''],
  ['','','D','','','','','','',''],
  ['','','D','','','','','','',''] ];

  partida[2]  = [ 
  ['','','','','','','','','','D'],
  ['','','','','','','','','','D'],
  ['','','','','','','','','','D'],
  ['','','','','','','','','','D'],
  ['','','','','','','D','','',''],
  ['','','','','','','','','',''],
  ['','','','','','','','','',''],
  ['','','D','','','','','D','D',''],
  ['','','D','','','','','','',''],
  ['','','D','','','','','','',''] ];




function inicialitza(){

    // incialitzem contadors 
    contAcerts = 0;
    contAigua = 0;
    partidaActiva = Math.floor(Math.random() * (maxPartida - minPartida)) + minPartida;
    console.log(partidaActiva);

    // Caregar la taula 
    var i;
    var j;
    for (i=0; i<10;i++ ){
        for (j=0; j<10;j++ ){
         idcell = "" + i + "" + j + "";   
    var  valor = document.getElementById(idcell);
    valor.innerHTML="X";    
        }    
    }
    var  acerts = document.getElementById("acerts");
    acerts.innerHTML= contAcerts;
    var  errors = document.getElementById("errors");
    errors.innerHTML= contAigua;
    var  totalaigues = document.getElementById("total");
    totalaigues.innerHTML= "de " + AIGUES;
    
    // 

}



</script>
</head>
<body>

<div align="center">
    <h1> Battle Ship</h1>
    <button onclick="inicialitza()">Nova partida</button> 
    <table>
        <tr>
            <td>Acerts:</td><td id="acerts"></td><td>Errors:</td><td id="errors"></td><td><p id="total"></p></td>
        </tr>
    </table>
    <table>
        <tr>
            <td >&nbsp;</td>
            <td >A</td>
            <td >B</td>
            <td >C</td>
            <td >D</td>
            <td >E</td>
            <td >F</td>
            <td >G</td>
            <td >H</td>
            <td >I</td>
            <td >J</td>
        </tr>
        <tr>
            <td >0</td>
            <td id="00">&nbsp;</td>
            <td id="01">&nbsp;</td>
            <td id="02">&nbsp;</td>
            <td id="03">&nbsp;</td>
            <td id="04">&nbsp;</td>
            <td id="05">&nbsp;</td>
            <td id="06">&nbsp;</td>
            <td id="07">&nbsp;</td>
            <td id="08">&nbsp;</td>
            <td id="09">&nbsp;</td>
        </tr>
        <tr>
            <td >1</td>
            <td id="10">&nbsp;</td>
            <td id="11">&nbsp;</td>
            <td id="12">&nbsp;</td>
            <td id="13">&nbsp;</td>
            <td id="14">&nbsp;</td>
            <td id="15">&nbsp;</td>
            <td id="16">&nbsp;</td>
            <td id="17">&nbsp;</td>
            <td id="18">&nbsp;</td>
            <td id="19">&nbsp;</td>
        </tr>
        <tr>
            <td >2</td>
            <td id="20">&nbsp;</td>
            <td id="21">&nbsp;</td>
            <td id="22">&nbsp;</td>
            <td id="23">&nbsp;</td>
            <td id="24">&nbsp;</td>
            <td id="25">&nbsp;</td>
            <td id="26">&nbsp;</td>
            <td id="27">&nbsp;</td>
            <td id="28">&nbsp;</td>
            <td id="29">&nbsp;</td>
        </tr>
        <tr>
            <td >3</td>
            <td id="30">&nbsp;</td>
            <td id="31">&nbsp;</td>
            <td id="32">&nbsp;</td>
            <td id="33">&nbsp;</td>
            <td id="34">&nbsp;</td>
            <td id="35">&nbsp;</td>
            <td id="36">&nbsp;</td>
            <td id="37">&nbsp;</td>
            <td id="38">&nbsp;</td>
            <td id="39">&nbsp;</td>
        </tr>
        <tr>
            <td >4</td>
            <td id="40">&nbsp;</td>
            <td id="41">&nbsp;</td>
            <td id="42">&nbsp;</td>
            <td id="43">&nbsp;</td>
            <td id="44">&nbsp;</td>
            <td id="45">&nbsp;</td>
            <td id="46">&nbsp;</td>
            <td id="47">&nbsp;</td>
            <td id="48">&nbsp;</td>
            <td id="49">&nbsp;</td>
        </tr>
        <tr>
            <td >5</td>
            <td id="50">&nbsp;</td>
            <td id="51">&nbsp;</td>
            <td id="52">&nbsp;</td>
            <td id="53">&nbsp;</td>
            <td id="54">&nbsp;</td>
            <td id="55">&nbsp;</td>
            <td id="56">&nbsp;</td>
            <td id="57">&nbsp;</td>
            <td id="58">&nbsp;</td>
            <td id="59">&nbsp;</td>
        </tr>
        <tr>
            <td >6</td>
            <td id="60">&nbsp;</td>
            <td id="61">&nbsp;</td>
            <td id="62">&nbsp;</td>
            <td id="63">&nbsp;</td>
            <td id="64">&nbsp;</td>
            <td id="65">&nbsp;</td>
            <td id="66">&nbsp;</td>
            <td id="67">&nbsp;</td>
            <td id="68">&nbsp;</td>
            <td id="69">&nbsp;</td>
        </tr>
        <tr>
            <td >7</td>
            <td id="70">&nbsp;</td>
            <td id="71">&nbsp;</td>
            <td id="72">&nbsp;</td>
            <td id="73">&nbsp;</td>
            <td id="74">&nbsp;</td>
            <td id="75">&nbsp;</td>
            <td id="76">&nbsp;</td>
            <td id="77">&nbsp;</td>
            <td id="78">&nbsp;</td>
            <td id="79">&nbsp;</td>
        </tr>
        <tr>
            <td >8</td>
            <td id="80">&nbsp;</td>
            <td id="81">&nbsp;</td>
            <td id="82">&nbsp;</td>
            <td id="83">&nbsp;</td>
            <td id="84">&nbsp;</td>
            <td id="85">&nbsp;</td>
            <td id="86">&nbsp;</td>
            <td id="87">&nbsp;</td>
            <td id="88">&nbsp;</td>
            <td id="89">&nbsp;</td>
        </tr>
        <tr>
            <td >9</td>
            <td id="90">&nbsp;</td>
            <td id="91">&nbsp;</td>
            <td id="92">&nbsp;</td>
            <td id="93">&nbsp;</td>
            <td id="94">&nbsp;</td>
            <td id="95">&nbsp;</td>
            <td id="96">&nbsp;</td>
            <td id="97">&nbsp;</td>
            <td id="98">&nbsp;</td>
            <td id="99">&nbsp;</td>
        </tr>
        

</table>
<label for="Fila">Fila:</label>
<select id="fil" name="fil">
  <option value="0">0</option>
  <option value="1">1</option>
  <option value="2">2</option>
  <option value="3">3</option>
  <option value="4">4</option>
  <option value="5">5</option>
  <option value="6">6</option>
  <option value="7">7</option>
  <option value="8">8</option>
  <option value="9">9</option>
</select> 


<label for="Columna">Columna:</label>
<select id="col" name="col">
  <option value="0">A</option>
  <option value="1">B</option>
  <option value="2">C</option>
  <option value="3">D</option>
  <option value="4">E</option>
  <option value="5">F</option>
  <option value="6">G</option>
  <option value="7">H</option>
  <option value="8">I</option>
  <option value="9">J</option>
</select> 



<button onclick="comprova()">Dispara</button> 
</div>
<script>
    function comprova(){
        var col = document.getElementById('col').value;
        var fil = document.getElementById('fil').value;
    //Obtindre valor del la partida activa 
        var valorCelda = partida[partidaActiva][fil][col];
    //console.log("columna " + col + " fila " + fil + "partida Activa" + partidaActiva + " valor " + valorCelda);
    //console.log(valorCelda); 

    // Pintar el camp
    var coordenada = document.getElementById(""+ fil +""+ col);
    var valorSeleccionat= coordenada.innerHTML; 
    if (valorSeleccionat == "X"){
        //console.log(valorSeleccionat);
        coordenada.innerHTML=valorCelda;
         
        if (valorCelda== "D"){
            coordenada.style.color="red";
            contAcerts= contAcerts +1;
            var  acerts = document.getElementById("acerts");
            acerts.innerHTML= contAcerts;
            if (contAcerts== 10){
                   window.alert("Enhorabona has afonat la flota!!!");
           }

        }else{
           contAigua = contAigua +1;
           var  errors = document.getElementById("errors");
           errors.innerHTML= contAigua;
           if (contAigua== AIGUES){
               window.alert("Has perdut la partida, torna a comen√ßar ;)");
               inicialitza();
            }

        }
    }
}


</script>
</body>
</html>